<template>
    <div style="padding: 30px">
        <h1>Home</h1>
        <br />
        <div>
            <span>setCount: </span>
            <el-input-number
                :model-value="count"
                :min="1"
                :max="100000000"
                @change="handleChange" />
        </div>
        <br />
        <div>
            <span>setUserName(persistence): </span>
            <br />
            <br />
            <div style="display: flex; gap: 50px">
                <el-input v-model="userNames" placeholder="Please input" />
                <el-button type="primary" @click="onHandelSetUserName">setUserName</el-button>
            </div>
        </div>
    </div>
</template>
<script setup>
import { ref, computed } from 'vue'
import { useStore } from 'vuex'

const store = useStore()
const count = computed(() => store.state.count)
const userName = computed(() => store.state.persistence.userName)
const handleChange = (value) => {
    store.commit('setCount', value)
}
const userNames = ref('')
userNames.value = userName.value
const onHandelSetUserName = () => {
    store.commit('setUserName', userNames.value)
}
</script>
<style lang="scss" scoped></style>
